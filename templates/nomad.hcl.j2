{% if nomad_name is defined %}
name = "{{ nomad_name }}"
{% endif %}

{% if nomad_bind_addr is defined %}
bind_addr = "{{ nomad_bind_addr }}"
{% endif %}

{% if nomad_addresses is defined %}
addresses {
{% for key, value in nomad_addresses.items() %}
  {{ key }} = "{{ value }}"
{% endfor %}
}
{% endif %}

{% if nomad_advertise is defined %}
advertise = {
{% for key, value in nomad_advertise.items() %}
  {{ key }} = "{{ value }}"
{% endfor %}
}
{% endif %}

{% if nomad_ports is defined %}
advertise = {
{% for key, value in nomad_ports.items() %}
  {{ key }} = "{{ value }}"
{% endfor %}
}
{% endif %}

{% if nomad_http_api_response_headers is defined %}
http_api_response_headers {
{% for key, value in nomad_http_api_response_headers.items() %}
  {{ key }} = "{{ value }}"
{% endfor %}
}
{% endif %}

data_dir = "{{ nomad_data_dir }}"
region = "{{ nomad_region }}"
datacenter = "{{ nomad_datacenter }}"
log_level = "{{ nomad_log_level }}"
enable_syslog = "{{ nomad_enable_syslog|ternary('true','false') }}"
enable_debug = {{ nomad_enable_debug|ternary('true', 'false') }}
leave_on_interrupt = {{ nomad_leave_on_interrupt|default(True)|ternary('true','false') }}
leave_on_terminate = {{ nomad_leave_on_terminate|default(True)|ternary('true','false') }}
disable_anonymous_signature = {{ nomad_disable_anonymous_signature|default(False)|ternary('true','false') }}
disable_update_check = {{ nomad_disable_update_check|default(False)|ternary('true','false') }}
syslog_facility = "{{ nomad_syslog_facility|default('LOCAL0') }}"
